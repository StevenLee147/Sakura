# Phase 8 — 在线功能 (v2.0) 🌐

> 推迟到 v1.0 稳定后开发。以下为规划大纲，详细 Step 另行编写。

---

### 8.1 — 后端服务（另行开发）

| 组件 | 技术 | 说明 |
|------|------|------|
| API 服务 | Go / Rust / Node.js | REST API + WebSocket |
| 数据库 | PostgreSQL | 用户/成绩/谱面 |
| 对象存储 | S3 / MinIO | 谱面文件/封面/回放 |
| CDN | Cloudflare | 静态资源加速 |
| 认证 | JWT | 令牌鉴权 |

---

### 8.2 — 客户端网络层

- SDL3_net + nlohmann-json 封装 REST/WebSocket
- 异步请求 + 离线缓存 + 重试 + 限流 + 超时
- 网络状态指示器

---

### 8.3 — 用户账号系统

- 注册/登录/个人资料/头像上传/密码修改
- 访客模式(不登录可玩，不计排行)

---

### 8.4 — 在线排行榜

- 全球/好友/地区排行 / 按谱面+难度
- WebSocket 实时推送 / 回放下载观看

---

### 8.5 — 谱面市场

- 上传/下载/搜索/筛选/评分/评论/下载量
- Ranked/Unranked 分类 / 一键下载安装

---

### 8.6 — 云同步

- 成绩/设置/成就/回放 云端同步 / 多设备 / 冲突取高分

---

### 8.7 — 自动更新（完整实现）

- 差量更新 / 后台下载+提示安装 / 回滚机制
